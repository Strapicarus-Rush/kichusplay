#include <iostream>
#include <thread>
#include "character.h"
#include "charactermovement.h"
#include "camera.h"
#include "world.h"

int main() {
    // Create a character
    Character player("Player", 1.0f, 0.5f, 0.3f);

    // Create character movement
    CharacterMovement characterMovement(&player);

    // Create a camera following the character
    Camera camera(&player);

    // Create the world
    World world("MyWorld");

    // Load missions and objectives
    world.loadMissions();
    world.addObjective("Complete the mission");

    // Game loop
    while (true) {
        // Update character movement and camera in parallel
        std::thread movementThread([&]() {
            characterMovement.update();
        });

        std::thread cameraThread([&]() {
            camera.update();
        });

        // Wait for both threads to finish
        movementThread.join();
        cameraThread.join();

        // Render world and characters
        // (Placeholder code for rendering)

        // Break condition (for testing)
        break;
    }

    return 0;
}
